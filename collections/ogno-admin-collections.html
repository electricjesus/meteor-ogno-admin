<template name="ognoAdminCollectionsView">
    {{#if hasMoreItems}}
    {{{pager}}}
    {{/if}}
    <table id="collectionTable" class="ui table sortable">
    <thead>
        <tr>
            {{#each headerValue}}
                <th>{{this}}</th>
            {{/each}}
            <th>Actions</th>
        </tr>
    </thead>
    {{#each entry}}
        <tr class="{{isActive}}">
            {{#each value this}}
            <td>{{{this}}}</td>
            {{/each}}
            <td>
                <div class="ui teal edit-document button" collection-id="{{_id}}">Edit</div>
            </td>
        </tr>
    {{/each}}
    </table>
    {{#if hasMoreItems}}
    {{{pager}}}
    {{/if}}

    <div class="ui purple add-document button"><i class="add icon"></i>Add</div>

    <div class="ui page dimmer">
        <div class="content">
            <div class="center">
                {{> ognoAdminEditForm}}
            </div>
        </div>
    </div>
</template>

<template name="ognoAdminEditForm">
    <h1>{{siteTitle}} {{operation}} Form</h1>
    {{#autoForm schema=documentForm doc=selectedDoc id="ognoAdminEditForm"}}
    <div class="ui form">
        <!-- Use easy-template later -->
        {{#each formField}}
        <div class="field">
            {{#if afFieldIsInvalid field autoform=../this}}
                <div class="ui error message">
                    {{afFieldMessage field autoform=../../this}}
                </div>
            {{/if}}
            <label>{{afFieldLabel field autoform=../this}}</label>

            {{! Use normal autoform inputs or custom input fields }}
            {{#if isImageField}}
                <div class="imageField">
                    <div data-key="{{this.field}}" data-url="{{dataUrl}}" class="ui blue image button"> Upload image</div>
                    <div class="ui hidden positive message">
                        <div class="header">Succesfully uploaded</div>
                        The image can be found here: <span class="imageUrl"></span>
                    </div>
                </div>
            {{else}}
                {{afFieldInput field autoform=../../this class=additionalClasses }}
            {{/if}}
        </div>
        {{/each}}
        <button type="submit" class="ui save {{operationClass}} positive button">Save</button>
        {{#if isNotNew}}
        <button type="submit" class="ui {{removeClass}} removable red button">{{removeText}}</button>
        {{/if}}
    </div>
    {{/autoForm}}
</template>